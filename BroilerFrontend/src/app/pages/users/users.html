<div>
  <div class="header-container">
    <h1 class="page-title">Users</h1>
    <button matButton class="add-user-button" (click)="onAddUser()"><mat-icon>add</mat-icon> Add User</button>
  </div>
  <table class="user-table" matSort (matSortChange)="sortData($event)">
    <tr>
      <th mat-sort-header="firstName"><div class="header-cell">First Name</div></th>
      <th mat-sort-header="name"><div class="header-cell">Last Name</div></th>
      <th mat-sort-header="actions"><div class="header-cell">Actions</div></th>
    </tr>

    @for (user of users; track $index) { @if(user.userId == this.currentlyEditingId){
    <tr
      appEditUser
      [user]="user"
      (isCanceled)="onCancelEdit()"
      (isSaved)="initializeUsers()"
    ></tr>
    } @else {
    <tr>
      <td>{{ user.givenName }}</td>
      <td>{{ user.surname }}</td>
      <td>
        <mat-icon class="edit-icon" (click)="onEdit(user.userId!)">edit</mat-icon>
      </td>
    </tr>
    } }
  </table>
</div>
