<div>
  <div class="header-container">
    <h1 class="page-title">Products and their Prices</h1>
    <button matButton class="add-product-button" (click)="onAddProduct()">
      <mat-icon>add</mat-icon> Add Product
    </button>
  </div>
  <table class="product-table" matSort (matSortChange)="sortData($event)">
    <tr>
      <th mat-sort-header="startDate">
        <div class="header-cell header-cell-first">Start Date</div>
      </th>
      <th mat-sort-header="type">
        <div class="header-cell">Type</div>
      </th>
      <th mat-sort-header="price">
        <div class="header-cell">Price</div>
      </th>
      <th mat-sort-header="actions">
        <div class="header-cell">Actions</div>
      </th>
    </tr>

    @for (product of products; track $index) { @if (currentlyEditingId == product.productId &&
    currentlyEditingDate == product.startDate) {
    <tr
      appEditProduct
      [allProductOptions]="productsList"
      [product]="product"
      (isExited)="onCancelEdit()"
      (isSaved)="initializeProducts()"
    ></tr>
    } @else {
    <tr>
      <td>{{ product.startDate }}</td>
      <td>{{ product.type }}</td>
      <td>{{ product.price }} â‚¬</td>
      <td>
        <mat-icon class="icon edit-icon" (click)="onEdit(product)">edit</mat-icon>
        <mat-icon class="icon" (click)="onDelete(product)">delete</mat-icon>
      </td>
    </tr>
    } }
  </table>
</div>
